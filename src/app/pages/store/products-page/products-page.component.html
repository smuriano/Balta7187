<!-- <div>
  <p>
    Utilize o Async somente uma vez na página para não efetuar mais de uma requisição ao servidor e assim,
    evitar chamadas repetidas. E depois atribui ao "variável" products para ser utilizado no ngFor
  </p>
</div> -->
<div class="uk-container" *ngIf="(filteredProducts$ | async) as products; else loading">
  <div class="uk-maring uk-inline uk-width-1-1">
    <span class="uk-form-icon" uk-icon="icon: search"></span>
    <input class="uk-input uk-form-large" [formControl]="queryField" type="text" placeholder="Pesquisar por">
  </div>

  <div class="uk-grid uk-margin-small-top">
    <div class="uk-width-1-3 uk-margin-small-bottom" *ngFor="let product of products">
      <app-product-card [product]="product"></app-product-card>
    </div>
  </div>
</div>

<ng-template #loading>
  <div class="uk-container">
    <div class="uk-alert-primary" uk-alert>
      <p>Carregando os produtos...</p>
    </div>
  </div>
</ng-template>
